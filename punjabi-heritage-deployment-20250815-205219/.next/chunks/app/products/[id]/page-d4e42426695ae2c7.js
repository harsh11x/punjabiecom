(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3403],{133:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},1469:(e,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),!function(e,a){for(var s in a)Object.defineProperty(e,s,{enumerable:!0,get:a[s]})}(a,{default:function(){return n},getImageProps:function(){return c}});let t=s(8229),r=s(1264),l=s(3063),i=t._(s(1193));function c(e){let{props:a}=(0,r.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,s]of Object.entries(a))void 0===s&&delete a[e];return{props:a}}let n=l.Image},1976:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},2769:(e,a,s)=>{"use strict";s.d(a,{v:()=>m});var t=s(5155),r=s(2115),l=s(7168),i=s(9475),c=s(98),n=s(4393),o=s(7809),d=s(4616),u=s(6671);function m(e){let{product:a,selectedSize:s,selectedColor:m,quantity:x=1,variant:h="add-to-cart",className:g}=e,{isAuthenticated:p,user:f}=(0,i.t)(),{addItem:j}=(0,c._)(),[v,y]=(0,r.useState)(!1),[b,N]=(0,r.useState)("login"),k=()=>{if(!p){N("login"),y(!0);return}if(!s&&a.sizes.length>0){u.oR.error("Please select a size");return}if(!m&&a.colors.length>0){u.oR.error("Please select a color");return}if(a.stock<x){u.oR.error("Not enough stock available");return}j({id:"".concat(a._id,"-").concat(s||"One Size","-").concat(m||"Default"),productId:a._id,name:a.name,punjabiName:a.punjabiName,price:a.price,image:a.images[0]||"/placeholder.jpg",size:s||"One Size",color:m||"Default",quantity:x,stock:a.stock}),"add-to-cart"===h?u.oR.success("Added to cart successfully!"):window.location.href="/checkout"};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.$,{onClick:k,className:g,size:"lg",children:"add-to-cart"===h?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.A,{className:"mr-2 h-4 w-4"}),"Add to Cart"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.A,{className:"mr-2 h-4 w-4"}),"Buy Now"]})}),(0,t.jsx)(n.U,{isOpen:v,onClose:()=>y(!1),defaultMode:b,onSuccess:()=>{y(!1),setTimeout(()=>{k()},100)}})]})}},4616:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5093:(e,a,s)=>{Promise.resolve().then(s.bind(s,5677))},5525:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},5677:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>k});var t=s(5155),r=s(2115),l=s(5695),i=s(6766),c=s(7168),n=s(8145),o=s(8482),d=s(6037),u=s(2769),m=s(3285),x=s(6671),h=s(7108),g=s(1976);let p=(0,s(9946).A)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var f=s(8564),j=s(7712),v=s(4616),y=s(9799),b=s(5525),N=s(133);function k(){let e=(0,l.useParams)(),[a,s]=(0,r.useState)(null),[k,w]=(0,r.useState)(!0),[A,z]=(0,r.useState)(0),[P,S]=(0,r.useState)(""),[M,C]=(0,r.useState)(""),[_,R]=(0,r.useState)(1),[O,q]=(0,r.useState)(!1);(0,m.F)({onProductUpdate:e=>{e.productId===(null==a?void 0:a.id)&&(s(a=>a?{...a,stock:e.stock}:null),x.oR.info("Product stock updated"))}}),(0,r.useEffect)(()=>{e.id&&E(e.id)},[e.id]);let E=async e=>{try{let a=await fetch("/api/products/local/".concat(e));if(a.ok){let e=await a.json();s(e.data),e.data.sizes.length>0&&S(e.data.sizes[0]),e.data.colors.length>0&&C(e.data.colors[0])}else x.oR.error("Product not found")}catch(e){console.error("Error fetching product:",e),x.oR.error("Error loading product")}finally{w(!1)}},F=e=>{let s=_+e;s>=1&&s<=((null==a?void 0:a.stock)||0)&&R(s)},L=async()=>{if(navigator.share)try{await navigator.share({title:null==a?void 0:a.name,text:null==a?void 0:a.description,url:window.location.href})}catch(e){console.log("Error sharing:",e)}else navigator.clipboard.writeText(window.location.href),x.oR.success("Link copied to clipboard!")};if(k)return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-amber-50 via-orange-50 to-red-50",children:(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"aspect-square bg-gray-200 rounded-lg animate-pulse"}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-2",children:[void 0,void 0,void 0,void 0].map((e,a)=>(0,t.jsx)("div",{className:"aspect-square bg-gray-200 rounded animate-pulse"},a))})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"h-8 bg-gray-200 rounded animate-pulse"}),(0,t.jsx)("div",{className:"h-6 bg-gray-200 rounded w-3/4 animate-pulse"}),(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2 animate-pulse"}),(0,t.jsx)("div",{className:"h-20 bg-gray-200 rounded animate-pulse"})]})]})})});if(!a)return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-amber-50 via-orange-50 to-red-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(h.A,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Product Not Found"}),(0,t.jsx)("p",{className:"text-gray-600",children:"The product you're looking for doesn't exist."})]})});let $=Math.round((a.originalPrice-a.price)/a.originalPrice*100);return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-amber-50 via-orange-50 to-red-50",children:[(0,t.jsxs)("header",{className:"border-b-4 border-amber-600 bg-gradient-to-r from-red-900 via-red-800 to-amber-800 text-white sticky top-0 z-50 shadow-lg",children:[(0,t.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-amber-100",children:a.name}),(0,t.jsx)("p",{className:"text-amber-200",children:a.punjabiName})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)(c.$,{variant:"ghost",size:"icon",onClick:()=>q(!O),className:"text-amber-100 hover:text-amber-300 hover:bg-red-700/50",children:(0,t.jsx)(g.A,{className:"h-5 w-5 ".concat(O?"fill-current":"")})}),(0,t.jsx)(c.$,{variant:"ghost",size:"icon",onClick:L,className:"text-amber-100 hover:text-amber-300 hover:bg-red-700/50",children:(0,t.jsx)(p,{className:"h-5 w-5"})})]})]})}),(0,t.jsx)("div",{className:"h-2 bg-gradient-to-r from-amber-400 via-orange-500 to-red-500"})]}),(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"relative aspect-square rounded-lg overflow-hidden bg-white shadow-lg",children:[(0,t.jsx)(i.default,{src:a.images[A]||"/placeholder.jpg",alt:a.name,fill:!0,className:"object-cover",priority:!0}),a.badge&&(0,t.jsx)(n.E,{className:"absolute top-4 left-4 bg-red-600 text-white",children:a.badge}),$>0&&(0,t.jsxs)(n.E,{className:"absolute top-4 right-4 bg-green-600 text-white",children:[$,"% OFF"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-2",children:a.images.map((e,s)=>(0,t.jsx)("button",{onClick:()=>z(s),className:"relative aspect-square rounded-lg overflow-hidden border-2 ".concat(A===s?"border-red-500":"border-gray-200"),children:(0,t.jsx)(i.default,{src:e,alt:"".concat(a.name," ").concat(s+1),fill:!0,className:"object-cover"})},s))})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,t.jsx)("div",{className:"flex items-center",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,t.jsx)(f.A,{className:"h-4 w-4 ".concat(s<Math.floor(a.rating)?"text-yellow-400 fill-current":"text-gray-300")},s))}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:["(",a.reviews," reviews)"]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,t.jsxs)("span",{className:"text-3xl font-bold text-red-600",children:["₹",a.price.toLocaleString()]}),a.originalPrice>a.price&&(0,t.jsxs)("span",{className:"text-xl text-gray-500 line-through",children:["₹",a.originalPrice.toLocaleString()]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,t.jsx)(n.E,{variant:a.stock>0?"default":"destructive",children:a.stock>0?"".concat(a.stock," in stock"):"Out of stock"}),(0,t.jsx)(n.E,{variant:"outline",children:a.category})]})]}),(0,t.jsx)(d.w,{}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Description"}),(0,t.jsx)("p",{className:"text-gray-700 mb-2",children:a.description}),(0,t.jsx)("p",{className:"text-gray-600 text-sm italic",children:a.punjabiDescription})]}),(0,t.jsx)(d.w,{}),a.sizes.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Size"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:a.sizes.map(e=>(0,t.jsx)(c.$,{variant:P===e?"default":"outline",size:"sm",onClick:()=>S(e),children:e},e))})]}),a.colors.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Color"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:a.colors.map(e=>(0,t.jsx)(c.$,{variant:M===e?"default":"outline",size:"sm",onClick:()=>C(e),children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Quantity"}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(c.$,{variant:"outline",size:"icon",onClick:()=>F(-1),disabled:_<=1,children:(0,t.jsx)(j.A,{className:"h-4 w-4"})}),(0,t.jsx)("span",{className:"text-lg font-semibold w-12 text-center",children:_}),(0,t.jsx)(c.$,{variant:"outline",size:"icon",onClick:()=>F(1),disabled:_>=a.stock,children:(0,t.jsx)(v.A,{className:"h-4 w-4"})})]})]}),(0,t.jsx)(d.w,{}),(0,t.jsx)("div",{className:"space-y-3",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,t.jsx)(u.v,{product:{...a,_id:a.id},selectedSize:P,selectedColor:M,quantity:_,variant:"add-to-cart",className:"w-full bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700 text-white"}),(0,t.jsx)(u.v,{product:{...a,_id:a.id},selectedSize:P,selectedColor:M,quantity:_,variant:"buy-now",className:"w-full bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white"})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-6",children:[(0,t.jsx)(o.Zp,{children:(0,t.jsxs)(o.Wu,{className:"p-4 text-center",children:[(0,t.jsx)(y.A,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),(0,t.jsx)("h4",{className:"font-semibold text-sm",children:"Free Shipping"}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"On orders above ₹500"})]})}),(0,t.jsx)(o.Zp,{children:(0,t.jsxs)(o.Wu,{className:"p-4 text-center",children:[(0,t.jsx)(b.A,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),(0,t.jsx)("h4",{className:"font-semibold text-sm",children:"Secure Payment"}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"100% secure transactions"})]})}),(0,t.jsx)(o.Zp,{children:(0,t.jsxs)(o.Wu,{className:"p-4 text-center",children:[(0,t.jsx)(N.A,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),(0,t.jsx)("h4",{className:"font-semibold text-sm",children:"Easy Returns"}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"7-day return policy"})]})})]})]})]})})]})}},5695:(e,a,s)=>{"use strict";var t=s(8999);s.o(t,"useParams")&&s.d(a,{useParams:function(){return t.useParams}}),s.o(t,"usePathname")&&s.d(a,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(a,{useSearchParams:function(){return t.useSearchParams}})},6037:(e,a,s)=>{"use strict";s.d(a,{w:()=>c});var t=s(5155),r=s(2115),l=s(7489),i=s(3999);let c=r.forwardRef((e,a)=>{let{className:s,orientation:r="horizontal",decorative:c=!0,...n}=e;return(0,t.jsx)(l.b,{ref:a,decorative:c,orientation:r,className:(0,i.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",s),...n})});c.displayName=l.b.displayName},6654:(e,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"useMergedRef",{enumerable:!0,get:function(){return r}});let t=s(2115);function r(e,a){let s=(0,t.useRef)(null),r=(0,t.useRef)(null);return(0,t.useCallback)(t=>{if(null===t){let e=s.current;e&&(s.current=null,e());let a=r.current;a&&(r.current=null,a())}else e&&(s.current=l(e,t)),a&&(r.current=l(a,t))},[e,a])}function l(e,a){if("function"!=typeof e)return e.current=a,()=>{e.current=null};{let s=e(a);return"function"==typeof s?s:()=>e(null)}}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},6766:(e,a,s)=>{"use strict";s.d(a,{default:()=>r.a});var t=s(1469),r=s.n(t)},7108:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},7489:(e,a,s)=>{"use strict";s.d(a,{b:()=>o});var t=s(2115),r=s(3655),l=s(5155),i="horizontal",c=["horizontal","vertical"],n=t.forwardRef((e,a)=>{var s;let{decorative:t,orientation:n=i,...o}=e,d=(s=n,c.includes(s))?n:i;return(0,l.jsx)(r.sG.div,{"data-orientation":d,...t?{role:"none"}:{"aria-orientation":"vertical"===d?d:void 0,role:"separator"},...o,ref:a})});n.displayName="Separator";var o=n},7712:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},7809:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},8564:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},9799:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])}},e=>{var a=a=>e(e.s=a);e.O(0,[1794,3455,6671,1263,685,4298,1071,3063,1676,6105,8441,1684,7358],()=>a(5093)),_N_E=e.O()}]);