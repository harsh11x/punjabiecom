(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7575],{2525:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(9946).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},3717:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(9946).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},4616:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(9946).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},4730:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>v});var s=t(5155),r=t(2115),l=t(5695),d=t(7168),o=t(9852),c=t(8482),n=t(8145),i=t(9840),u=t(5784),m=t(4616),x=t(7924),h=t(7108),p=t(3717),f=t(2525),g=t(6671),b=t(5587);function v(){(0,l.useRouter)();let[e,a]=(0,r.useState)([]),[t,v]=(0,r.useState)(""),[j,y]=(0,r.useState)("all"),[N,w]=(0,r.useState)(!0),[k,A]=(0,r.useState)(!1),[C,E]=(0,r.useState)(null);(0,r.useEffect)(()=>{L()},[]);let L=async()=>{w(!0);try{let e=await fetch("/api/admin/products",{credentials:"include"});if(e.ok){let t=await e.json();t.success?a(t.products):g.oR.error("Failed to load products")}else g.oR.error("Failed to load products")}catch(e){console.error("Error loading products:",e),g.oR.error("Failed to load products")}finally{w(!1)}},R=e=>{E(e),A(!0)},M=async e=>{if(confirm("Are you sure you want to delete this product?"))try{let a=await fetch("/api/admin/products?id=".concat(e),{method:"DELETE",credentials:"include"});if(a.ok){let e=await a.json();e.success?(g.oR.success("Product deleted successfully"),L()):g.oR.error(e.error||"Failed to delete product")}else g.oR.error("Failed to delete product")}catch(e){console.error("Error deleting product:",e),g.oR.error("Failed to delete product")}},P=e.filter(e=>{let a=e.name.toLowerCase().includes(t.toLowerCase())||e.punjabiName.toLowerCase().includes(t.toLowerCase())||e.category.toLowerCase().includes(t.toLowerCase()),s="all"===j||e.category===j;return a&&s});return N?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-red-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-red-600 mb-4"}),(0,s.jsx)("p",{className:"text-red-900 font-semibold",children:"Loading Products..."})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-red-50 p-6",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-red-900 mb-2",children:"Products Management"}),(0,s.jsx)("p",{className:"text-amber-700",children:"Manage your store's product catalog"})]}),(0,s.jsxs)(d.$,{onClick:()=>{E(null),A(!0)},className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800",children:[(0,s.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Add New Product"]})]}),(0,s.jsx)(c.Zp,{className:"mb-6 border-2 border-amber-200 bg-white/80 backdrop-blur-sm",children:(0,s.jsx)(c.Wu,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(x.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,s.jsx)(o.p,{placeholder:"Search products...",value:t,onChange:e=>v(e.target.value),className:"pl-10"})]})}),(0,s.jsx)("div",{className:"sm:w-48",children:(0,s.jsxs)(u.l6,{value:j,onValueChange:y,children:[(0,s.jsx)(u.bq,{children:(0,s.jsx)(u.yv,{})}),(0,s.jsx)(u.gC,{children:[{value:"all",label:"All Categories"},{value:"men",label:"Men's Jutti"},{value:"women",label:"Women's Jutti"},{value:"kids",label:"Kids' Jutti"},{value:"phulkari",label:"Phulkari"},{value:"accessories",label:"Accessories"}].map(e=>(0,s.jsx)(u.eb,{value:e.value,children:e.label},e.value))})]})})]})})}),(0,s.jsxs)(c.Zp,{className:"border-2 border-amber-200 bg-white/80 backdrop-blur-sm",children:[(0,s.jsx)(c.aR,{children:(0,s.jsxs)(c.ZB,{className:"flex items-center text-red-900",children:[(0,s.jsx)(h.A,{className:"h-5 w-5 mr-2"}),"Products (",P.length,")"]})}),(0,s.jsx)(c.Wu,{children:(0,s.jsx)("div",{className:"space-y-4",children:P.length>0?P.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border border-amber-100 hover:shadow-md transition-shadow",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("h3",{className:"font-semibold text-red-900",children:e.name}),(0,s.jsx)(n.E,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})]}),(0,s.jsx)("p",{className:"text-sm text-amber-700 mt-1",children:e.punjabiName}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-600",children:[(0,s.jsxs)("span",{children:["â‚¹",e.price]}),(0,s.jsxs)("span",{children:["Stock: ",e.stock]}),(0,s.jsx)("span",{className:"capitalize",children:e.category})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(d.$,{size:"sm",variant:"outline",onClick:()=>R(e),children:(0,s.jsx)(p.A,{className:"h-4 w-4"})}),(0,s.jsx)(d.$,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700",onClick:()=>M(e.id),children:(0,s.jsx)(f.A,{className:"h-4 w-4"})})]})]},e.id)):(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)(h.A,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-500",children:"No products found"})]})})})]}),(0,s.jsx)(i.lG,{open:k,onOpenChange:A,children:(0,s.jsxs)(i.Cf,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,s.jsx)(i.c7,{children:(0,s.jsx)(i.L3,{children:C?"Edit Product":"Add New Product"})}),(0,s.jsx)(b.A,{initialData:C||void 0,isDialog:!0,onSave:e=>{A(!1),L()},onCancel:()=>A(!1)})]})})]})})}},5375:(e,a,t)=>{Promise.resolve().then(t.bind(t,4730))},7108:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(9946).A)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},7924:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(9946).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8145:(e,a,t)=>{"use strict";t.d(a,{E:()=>o});var s=t(5155);t(2115);var r=t(2085),l=t(3999);let d=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:a,variant:t,...r}=e;return(0,s.jsx)("div",{className:(0,l.cn)(d({variant:t}),a),...r})}},9840:(e,a,t)=>{"use strict";t.d(a,{Cf:()=>u,L3:()=>x,c7:()=>m,lG:()=>c});var s=t(5155),r=t(2115),l=t(5452),d=t(4416),o=t(3999);let c=l.bL;l.l9;let n=l.ZL;l.bm;let i=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.hJ,{ref:a,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});i.displayName=l.hJ.displayName;let u=r.forwardRef((e,a)=>{let{className:t,children:r,...c}=e;return(0,s.jsxs)(n,{children:[(0,s.jsx)(i,{}),(0,s.jsxs)(l.UC,{ref:a,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...c,children:[r,(0,s.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(d.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=l.UC.displayName;let m=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...t})};m.displayName="DialogHeader";let x=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.hE,{ref:a,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});x.displayName=l.hE.displayName,r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.VY,{ref:a,className:(0,o.cn)("text-sm text-muted-foreground",t),...r})}).displayName=l.VY.displayName}},e=>{var a=a=>e(e.s=a);e.O(0,[3455,6671,1263,1071,9585,5587,8441,1684,7358],()=>a(5375)),_N_E=e.O()}]);