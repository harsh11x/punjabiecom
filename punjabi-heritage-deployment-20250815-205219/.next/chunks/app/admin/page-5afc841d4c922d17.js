(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3698],{646:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(9946).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1614:(e,r,s)=>{Promise.resolve().then(s.bind(s,7161))},2713:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(9946).A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},3999:(e,r,s)=>{"use strict";s.d(r,{cn:()=>d});var t=s(2596),a=s(9688);function d(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,a.QP)((0,t.$)(r))}},4186:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(9946).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},4616:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(9946).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5339:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(9946).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},5868:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(9946).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},7108:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(9946).A)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},7161:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>f});var t=s(5155),a=s(2115),d=s(7168),l=s(8482),c=s(8145),i=s(4186),n=s(2713),o=s(9799),x=s(646),m=s(5339),u=s(7108),h=s(7809),p=s(5868),b=s(4616),g=s(6671);function f(){let[e,r]=(0,a.useState)({totalProducts:0,totalOrders:0,totalRevenue:0,pendingOrders:0,processingOrders:0,shippedOrders:0,codOrders:0,onlineOrders:0}),[s,f]=(0,a.useState)([]),[v,j]=(0,a.useState)([]),[y,N]=(0,a.useState)(!0);(0,a.useEffect)(()=>{w()},[]);let w=async()=>{N(!0);try{let[n,o]=await Promise.all([fetch("/api/admin/products",{credentials:"include"}),fetch("/api/admin/orders",{credentials:"include"})]);if(n.ok&&o.ok){let x=await n.json(),m=await o.json();if(x.success){let e=x.products.sort((e,r)=>new Date(r.createdAt||r.updatedAt).getTime()-new Date(e.createdAt||e.updatedAt).getTime()).slice(0,5);f(e)}if(m.success){var e,s,t,a,d,l,c,i;j(m.orders.slice(0,5)),r({totalProducts:(null===(e=x.products)||void 0===e?void 0:e.length)||0,totalOrders:(null===(s=m.stats)||void 0===s?void 0:s.total)||0,totalRevenue:(null===(t=m.stats)||void 0===t?void 0:t.totalRevenue)||0,pendingOrders:(null===(a=m.stats)||void 0===a?void 0:a.pending)||0,processingOrders:(null===(d=m.stats)||void 0===d?void 0:d.processing)||0,shippedOrders:(null===(l=m.stats)||void 0===l?void 0:l.shipped)||0,codOrders:(null===(c=m.stats)||void 0===c?void 0:c.codOrders)||0,onlineOrders:(null===(i=m.stats)||void 0===i?void 0:i.onlineOrders)||0})}}}catch(e){console.error("Error loading dashboard data:",e),g.oR.error("Failed to load dashboard data")}finally{N(!1)}},k=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"processing":return"bg-blue-100 text-blue-800 border-blue-200";case"shipped":return"bg-purple-100 text-purple-800 border-purple-200";case"delivered":return"bg-green-100 text-green-800 border-green-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},A=e=>{switch(e){case"pending":default:return(0,t.jsx)(i.A,{className:"h-3 w-3"});case"processing":return(0,t.jsx)(n.A,{className:"h-3 w-3"});case"shipped":return(0,t.jsx)(o.A,{className:"h-3 w-3"});case"delivered":return(0,t.jsx)(x.A,{className:"h-3 w-3"});case"cancelled":return(0,t.jsx)(m.A,{className:"h-3 w-3"})}};return y?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-red-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-red-600 mb-4"}),(0,t.jsx)("p",{className:"text-red-900 font-semibold",children:"Loading Admin Dashboard..."})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-red-50 p-6",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-red-900 mb-2",children:"Admin Dashboard"}),(0,t.jsx)("p",{className:"text-amber-700",children:"Welcome to Punjab Heritage Store Management"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,t.jsx)(l.Zp,{className:"border-2 border-amber-200 bg-white/80 backdrop-blur-sm",children:(0,t.jsx)(l.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center",children:(0,t.jsx)(u.A,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Total Products"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-red-900",children:e.totalProducts})]})]})})}),(0,t.jsx)(l.Zp,{className:"border-2 border-amber-200 bg-white/80 backdrop-blur-sm",children:(0,t.jsx)(l.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center",children:(0,t.jsx)(h.A,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Total Orders"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-red-900",children:e.totalOrders})]})]})})}),(0,t.jsx)(l.Zp,{className:"border-2 border-amber-200 bg-white/80 backdrop-blur-sm",children:(0,t.jsx)(l.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,t.jsx)(p.A,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Total Revenue"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-red-900",children:["₹",e.totalRevenue.toLocaleString()]})]})]})})}),(0,t.jsx)(l.Zp,{className:"border-2 border-amber-200 bg-white/80 backdrop-blur-sm",children:(0,t.jsx)(l.Wu,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center",children:(0,t.jsx)(i.A,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Pending Orders"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-red-900",children:e.pendingOrders})]})]})})})]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-red-900 mb-4",children:"Quick Actions"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,t.jsxs)(d.$,{className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800",onClick:()=>window.location.href="/admin/products/new",children:[(0,t.jsx)(b.A,{className:"h-4 w-4 mr-2"}),"Add New Product"]}),(0,t.jsxs)(d.$,{variant:"outline",className:"border-amber-300 text-amber-700 hover:bg-amber-50",onClick:()=>window.location.href="/admin/orders",children:[(0,t.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"View All Orders"]}),(0,t.jsxs)(d.$,{variant:"outline",className:"border-blue-300 text-blue-700 hover:bg-blue-50",onClick:()=>window.location.href="/admin/products",children:[(0,t.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Manage Products"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(l.Zp,{className:"border-2 border-amber-200 bg-white/80 backdrop-blur-sm",children:[(0,t.jsx)(l.aR,{children:(0,t.jsxs)(l.ZB,{className:"text-red-900 flex items-center",children:[(0,t.jsx)(u.A,{className:"h-5 w-5 mr-2"}),"Recent Products"]})}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)("div",{className:"space-y-3",children:s.length>0?s.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-amber-100",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-semibold text-red-900",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-amber-700",children:e.punjabiName}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:["₹",e.price]}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:["Stock: ",e.stock]})]})]}),(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsx)(c.E,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})})]},e.id)):(0,t.jsx)("p",{className:"text-center text-gray-500 py-4",children:"No products found"})})})]}),(0,t.jsxs)(l.Zp,{className:"border-2 border-amber-200 bg-white/80 backdrop-blur-sm",children:[(0,t.jsx)(l.aR,{children:(0,t.jsxs)(l.ZB,{className:"text-red-900 flex items-center",children:[(0,t.jsx)(h.A,{className:"h-5 w-5 mr-2"}),"Recent Orders"]})}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)("div",{className:"space-y-3",children:v.length>0?v.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-amber-100",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("p",{className:"font-semibold text-red-900",children:["#",e.orderNumber]}),(0,t.jsx)("p",{className:"text-sm text-amber-700",children:e.customerInfo.name}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:["₹",e.total]}),(0,t.jsx)(c.E,{variant:"outline",className:"text-xs",children:e.paymentMethod})]})]}),(0,t.jsxs)("div",{className:"flex flex-col items-end space-y-1",children:[(0,t.jsx)(c.E,{className:"text-xs border ".concat(k(e.status)),children:(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[A(e.status),(0,t.jsx)("span",{className:"capitalize",children:e.status})]})}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})]})]},e._id)):(0,t.jsx)("p",{className:"text-center text-gray-500 py-4",children:"No orders found"})})})]})]})]})})}},7168:(e,r,s)=>{"use strict";s.d(r,{$:()=>n});var t=s(5155),a=s(2115),d=s(9708),l=s(2085),c=s(3999);let i=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),n=a.forwardRef((e,r)=>{let{className:s,variant:a,size:l,asChild:n=!1,...o}=e,x=n?d.DX:"button";return(0,t.jsx)(x,{className:(0,c.cn)(i({variant:a,size:l,className:s})),ref:r,...o})});n.displayName="Button"},7809:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(9946).A)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},8145:(e,r,s)=>{"use strict";s.d(r,{E:()=>c});var t=s(5155);s(2115);var a=s(2085),d=s(3999);let l=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:r,variant:s,...a}=e;return(0,t.jsx)("div",{className:(0,d.cn)(l({variant:s}),r),...a})}},8482:(e,r,s)=>{"use strict";s.d(r,{BT:()=>n,Wu:()=>o,ZB:()=>i,Zp:()=>l,aR:()=>c});var t=s(5155),a=s(2115),d=s(3999);let l=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});l.displayName="Card";let c=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",s),...a})});c.displayName="CardHeader";let i=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});i.displayName="CardTitle";let n=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,d.cn)("text-sm text-muted-foreground",s),...a})});n.displayName="CardDescription";let o=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,d.cn)("p-6 pt-0",s),...a})});o.displayName="CardContent",a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("div",{ref:r,className:(0,d.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter"},9799:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(9946).A)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])}},e=>{var r=r=>e(e.s=r);e.O(0,[3455,6671,8441,1684,7358],()=>r(1614)),_N_E=e.O()}]);