(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7581],{381:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},1147:(e,t,r)=>{Promise.resolve().then(r.bind(r,5633))},2713:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},3999:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(2596),s=r(9688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},4783:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},5525:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},5633:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var a=r(5155),s=r(2115),n=r(5695),i=r(6874),l=r.n(i),d=r(7168),c=r(8145),o=r(9946);let u=(0,o.A)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var h=r(7108),m=r(7809),x=r(2713),f=r(381),g=r(5525);let y=(0,o.A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var b=r(4783),v=r(6671);function p(e){let{children:t}=e,[r,i]=(0,s.useState)(!1),[o,p]=(0,s.useState)(!0),[j,k]=(0,s.useState)(!1),[N,w]=(0,s.useState)(null),A=(0,n.useRouter)(),P=(0,n.usePathname)();(0,s.useEffect)(()=>{if("/admin/login"===P){p(!1);return}z()},[P]);let z=async()=>{try{let e=await fetch("/api/admin/auth/verify",{credentials:"include"});if(e.ok){let t=await e.json();t.success?(i(!0),w(t.admin)):A.push("/admin/login")}else A.push("/admin/login")}catch(e){console.error("Auth check failed:",e),A.push("/admin/login")}finally{p(!1)}},S=async()=>{try{await fetch("/api/admin/auth/logout",{method:"POST",credentials:"include"}),i(!1),w(null),v.oR.success("Logged out successfully"),A.push("/admin/login")}catch(e){console.error("Logout failed:",e),v.oR.error("Logout failed")}};if(o)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-amber-50 via-orange-50 to-red-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-red-600 mb-4"}),(0,a.jsx)("p",{className:"text-red-900 font-semibold",children:"Loading..."})]})});if("/admin/login"===P||!r)return t;let C=[{name:"Dashboard",href:"/admin",icon:u},{name:"Products",href:"/admin/products",icon:h.A},{name:"Orders",href:"/admin/orders",icon:m.A},{name:"Analytics",href:"/admin/analytics",icon:x.A},{name:"Settings",href:"/admin/settings",icon:f.A}],M=e=>{let{mobile:t=!1}=e;return(0,a.jsxs)("div",{className:"".concat(t?"w-full":"w-64"," bg-gradient-to-b from-red-900 via-red-800 to-amber-800 text-white h-full flex flex-col"),children:[(0,a.jsx)("div",{className:"p-6 border-b border-red-700",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-400 to-red-500 rounded-full flex items-center justify-center",children:(0,a.jsx)(g.A,{className:"text-white h-6 w-6"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-amber-100",children:"Admin Panel"}),(0,a.jsx)("p",{className:"text-sm text-amber-200",children:"Punjab Heritage"})]})]})}),(0,a.jsx)("nav",{className:"flex-1 p-4 space-y-2",children:C.map(e=>{let r=P===e.href;return(0,a.jsxs)(l(),{href:e.href,className:"flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ".concat(r?"bg-red-700 text-white":"text-amber-100 hover:bg-red-700/50 hover:text-white"),onClick:()=>t&&k(!1),children:[(0,a.jsx)(e.icon,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:e.name})]},e.name)})}),(0,a.jsxs)("div",{className:"p-4 border-t border-red-700 space-y-3",children:[N&&(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-amber-200",children:"Welcome back"}),(0,a.jsx)("p",{className:"text-sm font-semibold text-amber-100",children:N.email}),(0,a.jsx)(c.E,{className:"mt-1 bg-amber-600 text-white text-xs",children:N.role})]}),(0,a.jsxs)(d.$,{onClick:S,variant:"ghost",className:"w-full justify-start text-amber-100 hover:bg-red-700/50 hover:text-white",children:[(0,a.jsx)(y,{className:"h-5 w-5 mr-3"}),"Logout"]})]})]})};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[(0,a.jsx)("div",{className:"hidden lg:block fixed inset-y-0 left-0 z-50",children:(0,a.jsx)(M,{})}),j&&(0,a.jsxs)("div",{className:"fixed inset-0 z-50 lg:hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>k(!1)}),(0,a.jsx)("div",{className:"absolute left-0 top-0 h-full w-64",children:(0,a.jsx)(M,{mobile:!0})})]}),(0,a.jsxs)("div",{className:"flex-1 lg:ml-64",children:[(0,a.jsx)("div",{className:"lg:hidden bg-white shadow-sm border-b px-6 py-4",children:(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)(d.$,{variant:"ghost",size:"icon",onClick:()=>k(!0),children:(0,a.jsx)(b.A,{className:"h-6 w-6"})}),(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Admin Dashboard"})]})})}),(0,a.jsx)("main",{className:"w-full",children:t})]})]})}},5695:(e,t,r)=>{"use strict";var a=r(8999);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},7108:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},7168:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var a=r(5155),s=r(2115),n=r(9708),i=r(2085),l=r(3999);let d=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:c=!1,...o}=e,u=c?n.DX:"button";return(0,a.jsx)(u,{className:(0,l.cn)(d({variant:s,size:i,className:r})),ref:t,...o})});c.displayName="Button"},7809:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},8145:(e,t,r)=>{"use strict";r.d(t,{E:()=>l});var a=r(5155);r(2115);var s=r(2085),n=r(3999);let i=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:r,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)(i({variant:r}),t),...s})}}},e=>{var t=t=>e(e.s=t);e.O(0,[3455,6671,6874,8441,1684,7358],()=>t(1147)),_N_E=e.O()}]);