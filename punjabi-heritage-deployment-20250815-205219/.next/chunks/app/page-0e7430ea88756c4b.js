(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8974],{89:(e,s,t)=>{"use strict";t.d(s,{FeaturedProductsClient:()=>u});var r=t(5155),a=t(2115),l=t(6766),i=t(7168),o=t(8145),d=t(8482),n=t(1976),c=t(8564),m=t(7809),g=t(98),x=t(9475),h=t(4393);function b(e){let{product:s}=e,{addItem:t}=(0,g._)(),{isAuthenticated:b}=(0,x.t)(),[u,p]=(0,a.useState)(!1),[f,v]=(0,a.useState)(s.sizes[0]||""),[j,N]=(0,a.useState)(s.colors[0]||"");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Zp,{className:"group cursor-pointer hover:shadow-2xl transition-all duration-500 border-2 lg:border-3 border-amber-200 hover:border-amber-400 bg-gradient-to-b from-white to-amber-50 overflow-hidden",children:(0,r.jsxs)(d.Wu,{className:"p-3 lg:p-6",children:[(0,r.jsxs)("div",{className:"relative mb-4 lg:mb-6",children:[(0,r.jsx)("div",{className:"absolute -inset-1 lg:-inset-2 bg-gradient-to-br from-amber-300 to-red-400 rounded-xl opacity-20 group-hover:opacity-30 transition-opacity"}),(0,r.jsx)(l.default,{src:s.images[0]||"/placeholder.svg",alt:s.name,width:350,height:350,className:"relative w-full h-40 sm:h-48 lg:h-56 object-cover rounded-lg group-hover:scale-105 transition-transform duration-500 shadow-lg"}),(0,r.jsx)(i.$,{size:"icon",variant:"ghost",className:"absolute top-2 lg:top-3 right-2 lg:right-3 bg-white/90 hover:bg-white text-red-600 shadow-lg border border-amber-200 w-8 h-8 lg:w-10 lg:h-10",children:(0,r.jsx)(n.A,{className:"h-3 lg:h-5 w-3 lg:w-5"})}),s.badge&&(0,r.jsx)(o.E,{className:"absolute top-2 lg:top-3 left-2 lg:left-3 bg-gradient-to-r from-amber-500 to-red-600 text-white font-bold px-2 lg:px-3 py-1 shadow-lg text-xs lg:text-sm",children:s.badge})]}),(0,r.jsxs)("div",{className:"space-y-2 lg:space-y-4",children:[(0,r.jsxs)("div",{children:[s.punjabiName&&(0,r.jsx)("h3",{className:"font-bold text-red-900 group-hover:text-red-700 transition-colors text-sm lg:text-lg mb-1",children:s.punjabiName}),(0,r.jsx)("h4",{className:"font-semibold text-amber-800 text-xs lg:text-base",children:s.name})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1 lg:space-x-2",children:[(0,r.jsx)("div",{className:"flex items-center space-x-1",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,r.jsx)(c.A,{className:"h-3 lg:h-4 w-3 lg:w-4 ".concat(t<Math.floor(s.rating||0)?"text-amber-400 fill-current":"text-gray-300")},t))}),(0,r.jsxs)("span",{className:"text-xs lg:text-sm text-gray-600 font-medium",children:["(",s.reviews||0,")"]})]}),s.sizes&&s.sizes.length>0&&(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Size:"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1",children:s.sizes.map(e=>(0,r.jsx)(i.$,{size:"sm",variant:f===e?"default":"outline",className:"text-xs px-2 py-1 h-6 ".concat(f===e?"bg-red-600 text-white":"border-amber-300 text-amber-700 hover:bg-amber-50"),onClick:()=>v(e),children:e},e))})]}),s.colors&&s.colors.length>0&&(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("label",{className:"text-xs font-medium text-gray-700",children:"Color:"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1",children:s.colors.map(e=>(0,r.jsx)(i.$,{size:"sm",variant:j===e?"default":"outline",className:"text-xs px-2 py-1 h-6 ".concat(j===e?"bg-red-600 text-white":"border-amber-300 text-amber-700 hover:bg-amber-50"),onClick:()=>N(e),children:e},e))})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[(0,r.jsxs)("span",{className:"text-lg lg:text-2xl font-bold text-red-800",children:["₹",s.price]}),s.originalPrice>s.price&&(0,r.jsxs)("span",{className:"text-sm lg:text-lg text-gray-500 line-through",children:["₹",s.originalPrice]})]}),(0,r.jsxs)(i.$,{className:"w-full bg-gradient-to-r from-red-700 to-amber-600 hover:from-red-800 hover:to-amber-700 text-white font-semibold py-2 lg:py-3 shadow-lg border-2 border-amber-300 text-xs lg:text-sm",onClick:()=>{if(!b){p(!0);return}if(!f||!j){let e=f||s.sizes[0],t=j||s.colors[0];if(!e||!t){alert("Please select size and color");return}v(e),N(t)}t({id:s._id,productId:s._id,name:s.name,punjabiName:s.punjabiName||s.name,price:s.price,image:s.images[0]||"/placeholder.svg",size:f||s.sizes[0],color:j||s.colors[0],stock:s.stock})},children:[(0,r.jsx)(m.A,{className:"mr-1 lg:mr-2 h-4 w-4"}),"ਕਾਰਟ ਵਿੱਚ ਪਾਓ • Add to Cart"]})]})]})}),u&&(0,r.jsx)(h.U,{isOpen:u,onClose:()=>p(!1)})]})}function u(e){let{initialProducts:s}=e,[t,l]=(0,a.useState)(s),[i,o]=(0,a.useState)(!1),[d,n]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{let e=setTimeout(()=>{n(!0)},100);return()=>clearTimeout(e)},[]),(0,a.useEffect)(()=>{d&&0===s.length&&(o(!0),(async()=>{try{let e=new AbortController,s=setTimeout(()=>e.abort(),5e3),t=await fetch("/api/products/featured?limit=8",{signal:e.signal});if(clearTimeout(s),t.ok){let e=await t.json();l(e.data||[])}}catch(e){"AbortError"!==e.name&&console.error("Error fetching products:",e)}finally{o(!1)}})())},[s,d]),i)?(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 lg:gap-8",children:[...Array(8)].map((e,s)=>(0,r.jsxs)("div",{className:"bg-white/80 rounded-lg border border-amber-200 overflow-hidden animate-pulse",children:[(0,r.jsx)("div",{className:"h-64 bg-gradient-to-r from-amber-100 to-red-100"}),(0,r.jsxs)("div",{className:"p-4 space-y-3",children:[(0,r.jsx)("div",{className:"h-4 bg-amber-200 rounded"}),(0,r.jsx)("div",{className:"h-3 bg-red-200 rounded w-3/4"}),(0,r.jsx)("div",{className:"h-5 bg-amber-300 rounded w-1/2"})]})]},s))}):(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 lg:gap-8",children:t.length>0?t.map(e=>(0,r.jsx)(b,{product:e},e._id)):(0,r.jsx)("div",{className:"col-span-full text-center py-12",children:(0,r.jsxs)("div",{className:"bg-white/80 rounded-lg p-8 shadow-lg border border-amber-200",children:[(0,r.jsx)("h3",{className:"text-2xl font-bold text-red-900 mb-4",children:"ਕੋਈ ਉਤਪਾਦ ਨਹੀਂ ਮਿਲੇ"}),(0,r.jsx)("p",{className:"text-amber-700 mb-6",children:"No products available at the moment"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Our artisans are working on new collections. Check back soon!"})]})})})}},1469:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),!function(e,s){for(var t in s)Object.defineProperty(e,t,{enumerable:!0,get:s[t]})}(s,{default:function(){return d},getImageProps:function(){return o}});let r=t(8229),a=t(1264),l=t(3063),i=r._(t(1193));function o(e){let{props:s}=(0,a.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,t]of Object.entries(s))void 0===t&&delete s[e];return{props:s}}let d=l.Image},3121:(e,s,t)=>{Promise.resolve().then(t.bind(t,5648)),Promise.resolve().then(t.bind(t,89)),Promise.resolve().then(t.bind(t,9464)),Promise.resolve().then(t.bind(t,3190)),Promise.resolve().then(t.t.bind(t,6874,23)),Promise.resolve().then(t.t.bind(t,3063,23))},5648:(e,s,t)=>{"use strict";t.d(s,{default:()=>l});var r=t(5155),a=t(2115);let l=function(e){let{children:s,fallback:t}=e,[l,i]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{i(!0)},[]),l)?(0,r.jsx)(r.Fragment,{children:s}):t||(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-amber-50 via-orange-50 to-red-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 border-4 border-amber-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-red-900 font-medium",children:"Loading..."})]})})}},6766:(e,s,t)=>{"use strict";t.d(s,{default:()=>a.a});var r=t(1469),a=t.n(r)},7809:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},8564:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[1794,3455,6671,1263,6874,685,4298,1071,3063,1676,6105,9464,8441,1684,7358],()=>s(3121)),_N_E=e.O()}]);