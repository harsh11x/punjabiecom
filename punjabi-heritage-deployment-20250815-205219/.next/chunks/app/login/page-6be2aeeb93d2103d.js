(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4520],{2714:(e,t,r)=>{"use strict";r.d(t,{J:()=>c});var a=r(5155),s=r(2115),l=r(968),i=r(2085),o=r(3999);let n=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.b,{ref:t,className:(0,o.cn)(n(),r),...s})});c.displayName=l.b.displayName},3999:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var a=r(2596),s=r(9688);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},4120:(e,t,r)=>{Promise.resolve().then(r.bind(r,8007))},6037:(e,t,r)=>{"use strict";r.d(t,{w:()=>o});var a=r(5155),s=r(2115),l=r(7489),i=r(3999);let o=s.forwardRef((e,t)=>{let{className:r,orientation:s="horizontal",decorative:o=!0,...n}=e;return(0,a.jsx)(l.b,{ref:t,decorative:o,orientation:s,className:(0,i.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",r),...n})});o.displayName=l.b.displayName},7168:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var a=r(5155),s=r(2115),l=r(9708),i=r(2085),o=r(3999);let n=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:c=!1,...d}=e,u=c?l.DX:"button";return(0,a.jsx)(u,{className:(0,o.cn)(n({variant:s,size:i,className:r})),ref:t,...d})});c.displayName="Button"},8007:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var a=r(5155),s=r(2115),l=r(6874),i=r.n(l),o=r(5695),n=r(7168),c=r(9852),d=r(8482),u=r(2714),m=r(6037),h=r(9475),f=r(9026),x=r(7550),p=r(5339),g=r(8883),v=r(2919),b=r(8749),y=r(2657);function N(){let[e,t]=(0,s.useState)(""),[r,l]=(0,s.useState)(""),[N,j]=(0,s.useState)(!1),[w,C]=(0,s.useState)(!1),k=(0,o.useRouter)(),{login:R,loginWithGoogle:A,error:F,clearError:S}=(0,h.t)(),E=async t=>{if(t.preventDefault(),e&&r){C(!0);try{await R(e,r),k.push("/")}catch(e){}finally{C(!1)}}},z=async()=>{console.log("handleGoogleLogin called"),C(!0);try{console.log("Calling loginWithGoogle..."),await A(),console.log("loginWithGoogle completed, redirecting to /"),k.push("/")}catch(e){console.error("Error in handleGoogleLogin:",e)}finally{C(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-amber-50 via-orange-50 to-red-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-md",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsxs)(i(),{href:"/",className:"inline-flex items-center text-red-600 hover:text-red-700 mb-4",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Back to Home"]}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-red-900 mb-2",children:"Welcome Back"}),(0,a.jsx)("p",{className:"text-red-700",children:"Sign in to your account"})]}),(0,a.jsxs)(d.Zp,{className:"shadow-xl border-0",children:[(0,a.jsxs)(d.aR,{className:"text-center",children:[(0,a.jsx)(d.ZB,{className:"text-2xl text-red-900",children:"Login"}),(0,a.jsx)(d.BT,{children:"Access your Punjabi Heritage account"})]}),(0,a.jsxs)(d.Wu,{className:"space-y-6",children:[F&&(0,a.jsxs)(f.Fc,{variant:"destructive",children:[(0,a.jsx)(p.A,{className:"h-4 w-4"}),(0,a.jsxs)(f.TN,{children:[F,(0,a.jsx)(n.$,{variant:"link",className:"p-0 h-auto ml-2 text-destructive hover:text-destructive/80",onClick:S,children:"Dismiss"})]})]}),(0,a.jsxs)(n.$,{type:"button",variant:"outline",className:"w-full h-12 text-base",onClick:z,disabled:w,children:[(0,a.jsxs)("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,a.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,a.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,a.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)(m.w,{className:"w-full"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,a.jsx)("span",{className:"bg-white px-2 text-gray-500",children:"Or continue with"})})]}),(0,a.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.J,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(g.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,a.jsx)(c.p,{id:"email",type:"email",placeholder:"Enter your email",value:e,onChange:e=>t(e.target.value),className:"pl-10 h-12",required:!0,disabled:w})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(u.J,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(v.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,a.jsx)(c.p,{id:"password",type:N?"text":"password",placeholder:"Enter your password",value:r,onChange:e=>l(e.target.value),className:"pl-10 pr-10 h-12",required:!0,disabled:w}),(0,a.jsx)(n.$,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-12 px-3 py-2 hover:bg-transparent",onClick:()=>j(!N),disabled:w,children:N?(0,a.jsx)(b.A,{className:"h-4 w-4 text-gray-400"}):(0,a.jsx)(y.A,{className:"h-4 w-4 text-gray-400"})})]})]}),(0,a.jsx)(n.$,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-red-600 to-amber-600 hover:from-red-700 hover:to-amber-700 text-white font-medium",disabled:w||!e||!r,children:w?"Signing in...":"Sign In"})]}),(0,a.jsxs)("div",{className:"text-center space-y-2",children:[(0,a.jsx)(i(),{href:"/forgot-password",className:"text-sm text-red-600 hover:text-red-700 hover:underline",children:"Forgot your password?"}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",(0,a.jsx)(i(),{href:"/signup",className:"text-red-600 hover:text-red-700 hover:underline font-medium",children:"Sign up"})]})]})]})]})]})})}},8482:(e,t,r)=>{"use strict";r.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>n,Zp:()=>i,aR:()=>o});var a=r(5155),s=r(2115),l=r(3999);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});i.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...s})});o.displayName="CardHeader";let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});n.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...s})});c.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",r),...s})});d.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"},8915:(e,t,r)=>{"use strict";r.d(t,{hJ:()=>o,j2:()=>i});var a=r(3915),s=r(6203);let l=(0,a.Wp)({apiKey:"AIzaSyA96W2Y6321lit2B2HuPOPIdY-MS9dytl4",authDomain:"punjabiecom-dc8ea.firebaseapp.com",projectId:"punjabiecom-dc8ea",storageBucket:"punjabiecom-dc8ea.firebasestorage.app",messagingSenderId:"248407809084",appId:"1:248407809084:web:769700a9c267ac2a5e3739",measurementId:"G-VNY53M2Q6L"}),i=(0,s.xI)(l),o=new s.HF;o.setCustomParameters({prompt:"select_account"})},9026:(e,t,r)=>{"use strict";r.d(t,{Fc:()=>n,TN:()=>c});var a=r(5155),s=r(2115),l=r(2085),i=r(3999);let o=(0,l.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),n=s.forwardRef((e,t)=>{let{className:r,variant:s,...l}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(o({variant:s}),r),...l})});n.displayName="Alert",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",r),...s})}).displayName="AlertTitle";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",r),...s})});c.displayName="AlertDescription"},9475:(e,t,r)=>{"use strict";r.d(t,{$:()=>n,t:()=>c});var a=r(5155),s=r(2115),l=r(6203),i=r(8915);let o=(0,s.createContext)(void 0);function n(e){let{children:t}=e,[r,n]=(0,s.useState)(null),[c,d]=(0,s.useState)(!0),[u,m]=(0,s.useState)(null),h=e=>({uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,phoneNumber:e.phoneNumber});(0,s.useEffect)(()=>{let e=null;try{e=(0,l.hg)(i.j2,e=>{try{e?n(h(e)):n(null),d(!1)}catch(e){console.error("Error processing auth state change:",e),m("Authentication error occurred"),d(!1)}},e=>{console.error("Firebase auth state change error:",e),m("Authentication service error"),d(!1)})}catch(e){console.error("Error setting up auth listener:",e),m("Failed to initialize authentication"),d(!1)}return()=>{if(e)try{e()}catch(e){console.error("Error cleaning up auth listener:",e)}}},[]);let f=async(e,t)=>{try{d(!0),m(null);let r=await (0,l.x9)(i.j2,e,t);n(h(r.user))}catch(e){throw m(e.message||"Failed to log in"),e}finally{d(!1)}},x=async(e,t,r)=>{try{d(!0),m(null);let a=await (0,l.eJ)(i.j2,e,t);await (0,l.r7)(a.user,{displayName:r}),n(h(a.user))}catch(e){throw m(e.message||"Failed to create account"),e}finally{d(!1)}},p=async()=>{console.log("Google login clicked");try{d(!0),m(null),console.log("About to call signInWithPopup");let e=await (0,l.df)(i.j2,i.hJ);console.log("Google login successful:",e.user.email),n(h(e.user))}catch(e){throw console.error("Google login error:",e),m(e.message||"Failed to sign in with Google"),e}finally{d(!1)}},g=async()=>{try{d(!0),m(null),await (0,l.CI)(i.j2),n(null)}catch(e){throw m(e.message||"Failed to log out"),e}finally{d(!1)}},v=async e=>{if(!i.j2.currentUser)throw Error("No authenticated user");try{d(!0),m(null),await (0,l.r7)(i.j2.currentUser,e),r&&n({...r,displayName:e.displayName||r.displayName,photoURL:e.photoURL||r.photoURL})}catch(e){throw m(e.message||"Failed to update profile"),e}finally{d(!1)}};return(0,a.jsx)(o.Provider,{value:{user:r,loading:c,error:u,login:f,signup:x,loginWithGoogle:p,logout:g,updateUserProfile:v,isAuthenticated:!!r,clearError:()=>m(null)},children:t})}function c(){let e=(0,s.useContext)(o);if(void 0===e)throw Error("useFirebaseAuth must be used within a FirebaseAuthProvider");return e}},9852:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var a=r(5155),s=r(2115),l=r(3999);let i=s.forwardRef((e,t)=>{let{className:r,type:s,...i}=e;return(0,a.jsx)("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...i})});i.displayName="Input"}},e=>{var t=t=>e(e.s=t);e.O(0,[1794,3455,6874,685,6758,8441,1684,7358],()=>t(4120)),_N_E=e.O()}]);